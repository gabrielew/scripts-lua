local huntName        = "ice_lib_modukot"
local isSimpleScript  = false
local uniqueId        = "ff174c7a-eefa-4d80-9bf2-79dd7a2a1271"

local PLAYER_CREATURE = Creature.new(Player.getId())
local PLAYER_VOCATION = PLAYER_CREATURE:getVocation()
local isEK            = PLAYER_VOCATION == Enums.Vocations.KNIGHT
local isRP            = PLAYER_VOCATION == Enums.Vocations.PALADIN
local IsMage          = PLAYER_VOCATION > 2

local defaultValues   = {
  monsters_to_stop = 10,
  max_walk_delay = 1000,
  walk_delay = 70,
  monsters_to_stop_in_forced_boxes = 4,
  monsters_box_life_percentage = 25,
  player_vision_area_in_forced_boxes = 7,
  refills = {
    {
      name = "Strong Health Potion",
      leave_hunt = 0,
      id = 236,
      buy = 0,
      category = "potions",
    },
    {
      name = "Strong Mana Potion",
      leave_hunt = 0,
      id = 237,
      buy = 0,
      category = "potions",
    },
    {
      name = "Great Health Potion",
      leave_hunt = 0,
      id = 239,
      buy = 0,
      category = "potions",
    },
    {
      name = "Great Mana Potion",
      leave_hunt = 0,
      id = 238,
      buy = 0,
      category = "potions",
    },
    {
      name = "Supreme health potion",
      leave_hunt = 0,
      id = 23375,
      buy = 0,
      category = "potions",
    },
    {
      name = "Ultimate spirit potion",
      leave_hunt = 0,
      id = 23374,
      buy = 0,
      category = "potions",
    },
    {
      name = "Ultimate health potion",
      leave_hunt = 0,
      id = 7643,
      buy = 0,
      category = "potions",
    },
    {
      name = "Great spirit potion",
      leave_hunt = 0,
      id = 7642,
      buy = 0,
      category = "potions",
    },
    {
      name = "Ultimate mana potion",
      leave_hunt = 0,
      id = 23373,
      buy = 0,
      category = "potions",
    },
    {
      name = "Avalanche rune",
      leave_hunt = 0,
      id = 3161,
      buy = 0,
      category = "runes",
    },
    {
      name = "Thunderstorm rune",
      leave_hunt = 0,
      id = 3202,
      buy = 0,
      category = "runes",
    },
    {
      name = "Stone shower rune",
      leave_hunt = 0,
      id = 3175,
      buy = 0,
      category = "runes",
    },
    {
      name = "Great fireball rune",
      leave_hunt = 0,
      id = 3191,
      buy = 0,
      category = "runes",
    },
    {
      name = "Sudden death rune",
      leave_hunt = 0,
      id = 3155,
      buy = 0,
      category = "runes",
    },
    {
      name = "Ultimate healing rune",
      leave_hunt = 0,
      id = 3160,
      buy = 0,
      category = "runes",
    },
    {
      name = "Diamond arrow",
      leave_hunt = 0,
      id = 35901,
      buy = 0,
      category = "distance",
    },
    {
      name = "Spectral Bolt",
      leave_hunt = 0,
      id = 35902,
      buy = 0,
      category = "distance",
    },
  },
  monsters_to_leave_from_forced_boxes = 0,
  items_to_not_sell = {
    3048,
    3081,
    3097,
    23526,
    23527,
    23528,
    23529,
    23530,
    23531,
    23532,
    23533,
    23534,
    3051,
    20200,
    23542,
    23543,
    23544,
    7443,
    7440,
  },
  lure_monsters = true,
  monsters_to_back = 5,
}

local WAYPOINTS       = {
  { x = 4721, y = 2443, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2443, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE',         label = 'start', },
  { x = 4721, y = 2443, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'SETTINGS_ON', },
  { x = 4721, y = 2443, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'RUN_MODE_OFF', },
  { x = 4721, y = 2442, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'STAND', },
  {
    x = 4721,
    y = 2442,
    z = 9,
    wait = 'SINGLE_STEP_DELAY',
    type = 'CHANGE_THING',
    changeThing = function()
      return {
        startForcedBox =
            values.monsters_to_stop_in_forced_boxes or 4,
        leaveForcedBox = values.monsters_to_leave_from_forced_boxes or 0,
        playerVisionInForcedBox =
            values.player_vision_area_in_forced_boxes or 7,
      }
    end,
  },
  { x = 4723, y = 2442, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4723, y = 2442, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'CHANGE_THING_BACK', },
  { x = 4724, y = 2442, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4725, y = 2442, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'ENTER_HOLE',        findTileId = 469, },
  { x = 4729, y = 2442, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'STAND', },
  {
    x = 4729,
    y = 2442,
    z = 10,
    wait = 'SINGLE_STEP_DELAY',
    type = 'CHANGE_THING',
    changeThing = function()
      return {
        startForcedBox =
            values.monsters_to_stop_in_forced_boxes or 4,
        leaveForcedBox = values.monsters_to_leave_from_forced_boxes or 0,
        playerVisionInForcedBox =
            values.player_vision_area_in_forced_boxes or 7,
      }
    end,
  },
  { x = 4728, y = 2444, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4728, y = 2444, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'CHANGE_THING_BACK', },
  { x = 4726, y = 2445, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4725, y = 2445, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4724, y = 2445, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4723, y = 2445, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2445, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2446, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2447, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2448, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2449, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2450, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2451, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2452, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2453, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2454, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2455, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2456, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'OPEN_DOOR',         direction = 2, },
  { x = 4721, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4719, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4718, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4717, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4716, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4715, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4714, y = 2460, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4713, y = 2461, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4712, y = 2462, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4711, y = 2463, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4710, y = 2464, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2465, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2466, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2467, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2468, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2469, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2470, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2472, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2473, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4709, y = 2474, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4710, y = 2475, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4711, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4712, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4713, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4714, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4715, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4716, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4717, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4718, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4719, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4720, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4723, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4724, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4725, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4726, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4727, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4728, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4729, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4730, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4731, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4732, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4733, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4734, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4735, y = 2477, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4735, y = 2476, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4736, y = 2475, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4736, y = 2474, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4736, y = 2473, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4736, y = 2472, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4737, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4737, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'STAND', },
  {
    x = 4737,
    y = 2471,
    z = 10,
    wait = 'SINGLE_STEP_DELAY',
    type = 'CHANGE_THING',
    changeThing = function()
      return {
        startForcedBox =
            values.monsters_to_stop_in_forced_boxes or 4,
        leaveForcedBox = values.monsters_to_leave_from_forced_boxes or 0,
        playerVisionInForcedBox =
            values.player_vision_area_in_forced_boxes or 7,
      }
    end,
  },
  { x = 4740, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4740, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'CHANGE_THING_BACK', },
  { x = 4742, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4743, y = 2471, z = 10, wait = 'SINGLE_STEP_DELAY', type = 'UPSTAIRS_DOWNSTAIRS', findTileId = 28361, },
  { x = 4745, y = 2470, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4744, y = 2460, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4744, y = 2456, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4747, y = 2456, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4748, y = 2456, z = 9,  wait = 'SINGLE_STEP_DELAY', type = 'STAND', },
  {
    x = 4748,
    y = 2456,
    z = 9,
    wait = 'SINGLE_STEP_DELAY',
    type = 'CHANGE_THING',
    changeThing = function()
      return {
        startForcedBox =
            values.monsters_to_stop_in_forced_boxes or 4,
        leaveForcedBox = values.monsters_to_leave_from_forced_boxes or 0,
        playerVisionInForcedBox =
            values.player_vision_area_in_forced_boxes or 7,
      }
    end,
  },
  { x = 4745, y = 2456, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4745, y = 2456, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'CHANGE_THING_BACK', },
  { x = 4742, y = 2456, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4741, y = 2456, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4740, y = 2455, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4739, y = 2455, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4738, y = 2455, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4737, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4736, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4735, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4734, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4733, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4732, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4731, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4730, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4729, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4728, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4727, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4726, y = 2454, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4725, y = 2453, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4724, y = 2453, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4723, y = 2453, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2453, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4714, y = 2453, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2452, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'STAND', },
  {
    x = 4721,
    y = 2452,
    z = 9,
    wait = 'SINGLE_STEP_DELAY',
    type = 'CHANGE_THING',
    changeThing = function()
      return {
        startForcedBox =
            values.monsters_to_stop_in_forced_boxes or 4,
        leaveForcedBox = values.monsters_to_leave_from_forced_boxes or 0,
        playerVisionInForcedBox =
            values.player_vision_area_in_forced_boxes or 7,
      }
    end,
  },
  { x = 4721, y = 2450, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2450, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'CHANGE_THING_BACK', },
  { x = 4721, y = 2449, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'OPEN_DOOR',           direction = 0, },
  { x = 4721, y = 2447, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2447, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'CHECK_SUPPLY',        checkSupply = { leave = "leave", start = "start" }, },
  { x = 4721, y = 2447, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE',                label = 'leave', },
  { x = 4721, y = 2445, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2445, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'UPSTAIRS_DOWNSTAIRS', findTileId = 5258, },
  { x = 4721, y = 2440, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2437, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4721, y = 2436, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'ENTER_TP',            findTileId = 28673, },
  { x = 5269, y = 2200, z = 7, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5270, y = 2200, z = 7, wait = 'SINGLE_STEP_DELAY', type = 'ENTER_TP',            findTileId = 25058, },
  { x = 5230, y = 2243, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5226, y = 2244, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5226, y = 2244, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'SELL', },
  { x = 5229, y = 2241, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5228, y = 2237, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5226, y = 2236, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5226, y = 2236, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'STAND',               label = 'BUY_REFILL_ALL', },
  { x = 5226, y = 2236, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'REFILL_ALL', },
  { x = 5226, y = 2236, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'CHECK_REFILL_ALL', },
  { x = 5226, y = 2236, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE',                label = 'CONTINUE_FROM_REFILL_ALL', },
  { x = 5232, y = 2235, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5238, y = 2234, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5240, y = 2232, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5240, y = 2231, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'ENTER_TP',            findTileId = 1949, },
  { x = 5265, y = 2203, z = 7, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 5265, y = 2204, z = 7, wait = 'SINGLE_STEP_DELAY', type = 'ENTER_TP',            findTileId = 1949, },
  { x = 4721, y = 2444, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4722, y = 2445, z = 8, wait = 'SINGLE_STEP_DELAY', type = 'ENTER_HOLE',          findTileId = 413, },
  { x = 4724, y = 2444, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4724, y = 2444, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'NODE', },
  { x = 4724, y = 2444, z = 9, wait = 'SINGLE_STEP_DELAY', type = 'FIND_LABEL',          findLabel = 'start', },

}

LOAD_DATA             = {
  huntName = huntName,
  isSimpleScript = isSimpleScript,
  defaultValues = defaultValues,
  uniqueId = uniqueId,
  WAYPOINTS = WAYPOINTS,
  isJsonRelease = true,
}